(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5662:function(e,t,r){Promise.resolve().then(r.bind(r,8991))},8991:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(7437),a=r(2265),n=r(9376),o=r(7648),i=r(9501),l=r(9064),c=r(1837),d=r(1217);function u(){let e=(0,n.useRouter)(),{setAuth:t}=(0,d.t)(),[r,u]=(0,a.useState)(!1),{register:m,handleSubmit:p,formState:{errors:h}}=(0,i.cI)(),x=async r=>{u(!0);try{let{user:s,token:a}=(await c.Z.post("/users/login",r)).data.data;t(s,a),l.ZP.success("Login successful!"),e.push("/dashboard")}catch(e){var s,a,n;l.ZP.error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:null===(s=a.error)||void 0===s?void 0:s.message)||"Login failed")}finally{u(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Sign in to your account"})]}),(0,s.jsxs)("form",{onSubmit:p(x),className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",...m("email",{required:"Email is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your@email.com"}),h.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",...m("password",{required:"Password is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"••••••••"}),h.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Signing in...":"Sign In"})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(o.default,{href:"/register",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up"})]})]})})}},1837:function(e,t,r){"use strict";let s=r(3464).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let r=localStorage.getItem("auth-storage");if(r)try{var t;let s=JSON.parse(r);(null===(t=s.state)||void 0===t?void 0:t.token)&&(e.headers.Authorization="Bearer ".concat(s.state.token))}catch(e){console.error("Error parsing auth storage:",e)}}return e}),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth-storage"),window.location.href="/login"),Promise.reject(e)}),t.Z=s},1217:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});var s=r(9625),a=r(6885);let n=(0,s.Ue)()((0,a.tJ)(e=>({user:null,token:null,isAuthenticated:!1,setAuth:(t,r)=>e({user:t,token:r,isAuthenticated:!0}),logout:()=>e({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage"}))}},function(e){e.O(0,[648,64,464,299,501,971,117,744],function(){return e(e.s=5662)}),_N_E=e.O()}]);