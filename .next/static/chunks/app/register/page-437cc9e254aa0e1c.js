(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{3524:function(e,t,r){Promise.resolve().then(r.bind(r,564))},564:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),s=r(2265),o=r(9376),n=r(7648),d=r(9501),i=r(9064),l=r(1837),c=r(1217);function u(){let e=(0,o.useRouter)(),{setAuth:t}=(0,c.t)(),[r,u]=(0,s.useState)(!1),{register:m,handleSubmit:p,formState:{errors:x}}=(0,d.cI)(),b=async r=>{u(!0);try{let{user:a,token:s}=(await l.Z.post("/users/register",r)).data.data;t(a,s),i.ZP.success("Registration successful!"),e.push("/dashboard")}catch(e){var a,s,o;i.ZP.error((null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:null===(a=s.error)||void 0===a?void 0:a.message)||"Registration failed")}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-[var(--bg-primary)] flex items-center justify-center px-4 py-12",children:(0,a.jsxs)("div",{className:"bg-[var(--bg-secondary)] border border-[var(--border)] rounded-brand-lg shadow-brand-lg p-8 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-[var(--text-primary)] mb-2",children:"Create account"}),(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"Join us to find your perfect barber"})]}),(0,a.jsxs)("form",{onSubmit:p(b),className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Full name"}),(0,a.jsx)("input",{type:"text",...m("name",{required:"Name is required"}),className:"w-full px-4 py-3 bg-[var(--bg-tertiary)] border border-[var(--border)] rounded-brand-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-forest/50 dark:focus:ring-gold/50",placeholder:"John Doe"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:x.name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",...m("email",{required:"Email is required"}),className:"w-full px-4 py-3 bg-[var(--bg-tertiary)] border border-[var(--border)] rounded-brand-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-forest/50 dark:focus:ring-gold/50",placeholder:"your@email.com"}),x.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:x.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Phone (optional)"}),(0,a.jsx)("input",{type:"tel",...m("phone"),className:"w-full px-4 py-3 bg-[var(--bg-tertiary)] border border-[var(--border)] rounded-brand-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-forest/50 dark:focus:ring-gold/50",placeholder:"+1234567890"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",...m("password",{required:"Password is required",minLength:{value:6,message:"At least 6 characters"}}),className:"w-full px-4 py-3 bg-[var(--bg-tertiary)] border border-[var(--border)] rounded-brand-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-forest/50 dark:focus:ring-gold/50",placeholder:"••••••••"}),x.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:x.password.message})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full py-3 bg-forest dark:bg-gold text-white font-semibold rounded-brand-md hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating account...":"Sign up"})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-[var(--text-secondary)]",children:["Already have an account?"," ",(0,a.jsx)(n.default,{href:"/login",className:"text-forest dark:text-gold font-medium hover:underline",children:"Sign in"})]})]})})}},1837:function(e,t,r){"use strict";let a=r(3464).Z.create({baseURL:"https://barber-app-backend.vercel.app/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let r=localStorage.getItem("auth-storage");if(r)try{var t;let a=JSON.parse(r);(null===(t=a.state)||void 0===t?void 0:t.token)&&(e.headers.Authorization="Bearer ".concat(a.state.token))}catch(e){console.error("Error parsing auth storage:",e)}}return e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth-storage"),window.location.href="/login"),Promise.reject(e)}),t.Z=a},1217:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var a=r(9625),s=r(6885);let o=(0,a.Ue)()((0,s.tJ)(e=>({user:null,token:null,isAuthenticated:!1,_hasHydrated:!1,setAuth:(t,r)=>e({user:t,token:r,isAuthenticated:!0}),logout:()=>e({user:null,token:null,isAuthenticated:!1}),setHasHydrated:t=>e({_hasHydrated:t})}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{o.getState().setHasHydrated(!0)}}))}},function(e){e.O(0,[648,64,464,299,501,971,117,744],function(){return e(e.s=3524)}),_N_E=e.O()}]);