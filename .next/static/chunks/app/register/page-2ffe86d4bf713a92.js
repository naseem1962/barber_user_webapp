(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{3524:function(e,r,t){Promise.resolve().then(t.bind(t,564))},564:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var s=t(7437),a=t(2265),n=t(9376),o=t(7648),l=t(9501),i=t(9064),c=t(1837),d=t(1217);function u(){let e=(0,n.useRouter)(),{setAuth:r}=(0,d.t)(),[t,u]=(0,a.useState)(!1),{register:m,handleSubmit:p,formState:{errors:h}}=(0,l.cI)(),x=async t=>{u(!0);try{let{user:s,token:a}=(await c.Z.post("/users/register",t)).data.data;r(s,a),i.ZP.success("Registration successful!"),e.push("/dashboard")}catch(e){var s,a,n;i.ZP.error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:null===(s=a.error)||void 0===s?void 0:s.message)||"Registration failed")}finally{u(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Join us to find your perfect barber"})]}),(0,s.jsxs)("form",{onSubmit:p(x),className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",...m("name",{required:"Name is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"John Doe"}),h.name&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",...m("email",{required:"Email is required"}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your@email.com"}),h.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone (Optional)"}),(0,s.jsx)("input",{type:"tel",...m("phone"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+1234567890"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",...m("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"••••••••"}),h.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating account...":"Sign Up"})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(o.default,{href:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in"})]})]})})}},1837:function(e,r,t){"use strict";let s=t(3464).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("auth-storage");if(t)try{var r;let s=JSON.parse(t);(null===(r=s.state)||void 0===r?void 0:r.token)&&(e.headers.Authorization="Bearer ".concat(s.state.token))}catch(e){console.error("Error parsing auth storage:",e)}}return e}),s.interceptors.response.use(e=>e,e=>{var r;return(null===(r=e.response)||void 0===r?void 0:r.status)===401&&(localStorage.removeItem("auth-storage"),window.location.href="/login"),Promise.reject(e)}),r.Z=s},1217:function(e,r,t){"use strict";t.d(r,{t:function(){return n}});var s=t(9625),a=t(6885);let n=(0,s.Ue)()((0,a.tJ)(e=>({user:null,token:null,isAuthenticated:!1,setAuth:(r,t)=>e({user:r,token:t,isAuthenticated:!0}),logout:()=>e({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage"}))}},function(e){e.O(0,[648,64,464,299,501,971,117,744],function(){return e(e.s=3524)}),_N_E=e.O()}]);